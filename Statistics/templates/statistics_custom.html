{% extends 'statistics_template.html' %}

{% block content %}
    <h1>自定义表格</h1>
    <div class="col-lg-11">
        <div class="col-lg-4">
            <form method="get" style="font-size: medium">
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">数据选择:</label>
                    <div class="col-lg-6">
                        <select class="form-control" name="table1_data" style="font-size:9pt">
                            <option value="null">暂无</option>
                            <option value="req_customer">需求数据-客户</option>
                            <option value="req_product_type">需求数据-产品类别</option>
                            <option value="req_place">需求数据-交货地点</option>
                            <option value="req_year">需求数据-年数据统计</option>
                            <option value="rec_part">验收数据-验收问题部件</option>
                            <option value="rec_banzu">验收数据-验收班组</option>
                            <option value="unq_type">不合格单-不合格类型</option>
                            <option value="unq_chuzhi">不合格单-处置方式</option>
                            <option value="out_institution">外协问题-外部负责机构</option>
                            <option value="fau_charger">故障数据-故障负责人</option>
                            <option value="exp_charger">试验数据-负责人</option>
                        </select>
                    </div>
                </div>
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">表格形式:</label>
                    <div class="col-lg-6">
                        <select class="form-control" name="table1_form" style="font-size:9pt">
                            <option value="pie">饼图</option>
                            <option value="line">折线图</option>
                            <option value="bar">柱状图</option>
                            <option value="nanding">南丁格尔图</option>
                        </select>
                    </div>
                </div>
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">起始时间:</label>
                    <div class="col-lg-6">
                        <input type="date" class="form-control" id="begin_date1" name="begin_date1"
                               style="font-size:9pt"
                               value={{ date.begin_date1 }}>
                    </div>
                </div>
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">终止时间:</label>
                    <div class="col-lg-6">
                        <input type="date" class="form-control" id="end_date1" name="end_date1" style="font-size:9pt"
                               value={{ date.end_date1 }}>
                    </div>
                </div>
                <div class="col-lg-12">
                    <HR width="80%" color=#987cb9 SIZE=3>
                </div>
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">数据选择:</label>
                    <div class="col-lg-6">
                        <select class="form-control" name="table2_data" style="font-size:9pt">
                            <option value="null">暂无</option>
                            <option value="req_customer">需求数据-客户</option>
                            <option value="req_product_type">需求数据-产品类别</option>
                            <option value="req_place">需求数据-交货地点</option>
                            <option value="req_year">需求数据-年数据统计</option>
                            <option value="rec_part">验收数据-验收问题部件</option>
                            <option value="rec_banzu">验收数据-验收班组</option>
                            <option value="unq_type">不合格单-不合格类型</option>
                            <option value="unq_chuzhi">不合格单-处置方式</option>
                            <option value="out_institution">外协问题-外部负责机构</option>
                            <option value="fau_charger">故障数据-故障负责人</option>
                            <option value="exp_charger">试验数据-负责人</option>
                        </select>
                    </div>
                </div>
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">表格形式:</label>
                    <div class="col-lg-6">
                        <select class="form-control" name="table2_form" style="font-size:9pt">
                            <option value="pie">饼图</option>
                            <option value="line">折线图</option>
                            <option value="bar">柱状图</option>
                            <option value="nanding">南丁格尔图</option>
                        </select>
                    </div>
                </div>
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">起始时间:</label>
                    <div class="col-lg-6">
                        <input type="date" class="form-control" id="begin_date2" name="begin_date2"
                               style="font-size:9pt"
                               value={{ date.begin_date1 }}>
                    </div>
                </div>
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">终止时间:</label>
                    <div class="col-lg-6">
                        <input type="date" class="form-control" id="end_date2" name="end_date2" style="font-size:9pt"
                               value={{ date.end_date1 }}>
                    </div>
                </div>
                <div class="col-lg-12">
                    <HR width="80%" color=#987cb9 SIZE=3>
                </div>
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">数据选择:</label>
                    <div class="col-lg-6">
                        <select class="form-control" name="table3_data" style="font-size:9pt">
                            <option value="null">暂无</option>
                            <option value="req_customer">需求数据-客户</option>
                            <option value="req_product_type">需求数据-产品类别</option>
                            <option value="req_place">需求数据-交货地点</option>
                            <option value="req_year">需求数据-年数据统计</option>
                            <option value="rec_part">验收数据-验收问题部件</option>
                            <option value="rec_banzu">验收数据-验收班组</option>
                            <option value="unq_type">不合格单-不合格类型</option>
                            <option value="unq_chuzhi">不合格单-处置方式</option>
                            <option value="out_institution">外协问题-外部负责机构</option>
                            <option value="fau_charger">故障数据-故障负责人</option>
                            <option value="exp_charger">试验数据-负责人</option>
                        </select>
                    </div>
                </div>
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">表格形式:</label>
                    <div class="col-lg-6">
                        <select class="form-control" name="table3_form" style="font-size:9pt">
                            <option value="pie">饼图</option>
                            <option value="line">折线图</option>
                            <option value="bar">柱状图</option>
                            <option value="nanding">南丁格尔图</option>
                        </select>
                    </div>
                </div>
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">起始时间:</label>
                    <div class="col-lg-6">
                        <input type="date" class="form-control" id="begin_date3" name="begin_date3"
                               style="font-size:9pt"
                               value={{ date.begin_date1 }}>
                    </div>
                </div>
                <div class="form-group col-lg-6">
                    <label class="col-lg-6 control-label">终止时间:</label>
                    <div class="col-lg-6">
                        <input type="date" class="form-control" id="end_date3" name="end_date3" style="font-size:9pt"
                               value={{ date.end_date1 }}>
                    </div>
                </div>
                <div class="col-lg-12">
                    <button type="submit" class="btn btn-outline-info" style="font-size:10pt">统计数据
                    </button>
                </div>
            </form>
        </div>

        {% if option_data_dict2.type == 'null' %}
            <div class="col-lg-8">
                <div id="chart1" class="col-lg-10" style="width: 880px;height: 600px;"></div>
                <script type="text/javascript">
                    var chartDom = document.getElementById('chart1');
                    var myChart = echarts.init(chartDom);
                    var option_data_dict1 = {{ option_data_dict1|safe }};
                    if (option_data_dict1.type === 'bar') {
                        option1 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict1.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict1.value,
                                type: 'bar'
                            }]
                        };
                    } else if (option_data_dict1.type === 'line') {
                        option1 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict1.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict1.value,
                                type: 'line'
                            }]
                        };
                    } else if (option_data_dict1.type === 'pie') {
                        option1 = {
                            tooltip: {
                                trigger: 'item'
                            },
                            legend: {
                                orient: 'vertical',
                                left: 'left',
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: '50%',
                                    data: option_data_dict1.data,
                                    emphasis: {
                                        itemStyle: {
                                            shadowBlur: 10,
                                            shadowOffsetX: 0,
                                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                                        }
                                    }
                                }
                            ]
                        };
                    } else if (option_data_dict1.type === 'nanding') {
                        option1 = {
                            legend: {
                                top: 'bottom'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: [20, 150],
                                    center: ['50%', '50%'],
                                    roseType: 'angle',
                                    itemStyle: {
                                        borderRadius: 8
                                    },
                                    data: option_data_dict1.data
                                }
                            ]
                        };
                    }

                    option1 && myChart.setOption(option1);
                </script>
            </div>
        {% elif option_data_dict3.type == 'null' %}
            <div class="col-lg-8">
                <div id="chart1" class="col-lg-10" style="width: 880px;height: 350px;"></div>
                <script type="text/javascript">
                    var chartDom = document.getElementById('chart1');
                    var myChart = echarts.init(chartDom);
                    var option_data_dict1 = {{ option_data_dict1|safe }};
                    if (option_data_dict1.type === 'bar') {
                        option1 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict1.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict1.value,
                                type: 'bar'
                            }]
                        };
                    } else if (option_data_dict1.type === 'line') {
                        option1 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict1.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict1.value,
                                type: 'line'
                            }]
                        };
                    } else if (option_data_dict1.type === 'pie') {
                        option1 = {
                            tooltip: {
                                trigger: 'item'
                            },
                            legend: {
                                orient: 'vertical',
                                left: 'left',
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: '50%',
                                    data: option_data_dict1.data,
                                    emphasis: {
                                        itemStyle: {
                                            shadowBlur: 10,
                                            shadowOffsetX: 0,
                                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                                        }
                                    }
                                }
                            ]
                        };
                    } else if (option_data_dict1.type === 'nanding') {
                        option1 = {
                            legend: {
                                top: 'bottom'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: [20, 120],
                                    center: ['50%', '50%'],
                                    roseType: 'angle',
                                    itemStyle: {
                                        borderRadius: 8
                                    },
                                    data: option_data_dict1.data
                                }
                            ]
                        };
                    }

                    option1 && myChart.setOption(option1);
                </script>

                <div id="chart2" class="col-lg-10" style="width: 880px;height: 350px;"></div>
                <script type="text/javascript">
                    var chartDom = document.getElementById('chart2');
                    var myChart = echarts.init(chartDom);

                    var option_data_dict2 = {{ option_data_dict2|safe }};
                    if (option_data_dict2.type == 'bar') {
                        option2 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict2.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict2.value,
                                type: 'bar'
                            }]
                        };
                    } else if (option_data_dict2.type == 'line') {
                        option2 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict2.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict2.value,
                                type: 'line'
                            }]
                        };
                    } else if (option_data_dict2.type == 'pie') {
                        option2 = {
                            tooltip: {
                                trigger: 'item'
                            },
                            legend: {
                                orient: 'vertical',
                                left: 'left',
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: '50%',
                                    data: option_data_dict2.data,
                                    emphasis: {
                                        itemStyle: {
                                            shadowBlur: 10,
                                            shadowOffsetX: 0,
                                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                                        }
                                    }
                                }
                            ]
                        };
                    } else if (option_data_dict2.type == 'nanding') {
                        option2 = {
                            legend: {
                                top: 'bottom'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: [20, 120],
                                    center: ['50%', '50%'],
                                    roseType: 'angle',
                                    itemStyle: {
                                        borderRadius: 8
                                    },
                                    data: option_data_dict2.data
                                }
                            ]
                        };
                    }
                    option2 && myChart.setOption(option2);
                </script>

            </div>

        {% else %}
            <div class="col-lg-8">
                <div id="chart1" class="col-lg-10" style="width: 880px;height: 240px;"></div>
                <script type="text/javascript">
                    var chartDom = document.getElementById('chart1');
                    var myChart = echarts.init(chartDom);
                    var option_data_dict1 = {{ option_data_dict1|safe }};
                    if (option_data_dict1.type === 'bar') {
                        option1 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict1.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict1.value,
                                type: 'bar'
                            }]
                        };
                    } else if (option_data_dict1.type === 'line') {
                        option1 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict1.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict1.value,
                                type: 'line'
                            }]
                        };
                    } else if (option_data_dict1.type === 'pie') {
                        option1 = {
                            tooltip: {
                                trigger: 'item'
                            },
                            legend: {
                                orient: 'vertical',
                                left: 'left',
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: '50%',
                                    data: option_data_dict1.data,
                                    emphasis: {
                                        itemStyle: {
                                            shadowBlur: 10,
                                            shadowOffsetX: 0,
                                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                                        }
                                    }
                                }
                            ]
                        };
                    } else if (option_data_dict1.type === 'nanding') {
                        option1 = {
                            legend: {
                                top: 'bottom'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: [10, 60],
                                    center: ['50%', '50%'],
                                    roseType: 'area',
                                    itemStyle: {
                                        borderRadius: 8
                                    },
                                    data: option_data_dict1.data
                                }
                            ]
                        };
                    }

                    option1 && myChart.setOption(option1);
                </script>

                <div id="chart2" class="col-lg-10" style="width: 880px;height: 240px;"></div>
                <script type="text/javascript">
                    var chartDom = document.getElementById('chart2');
                    var myChart = echarts.init(chartDom);

                    var option_data_dict2 = {{ option_data_dict2|safe }};
                    if (option_data_dict2.type == 'bar') {
                        option2 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict2.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict2.value,
                                type: 'bar'
                            }]
                        };
                    } else if (option_data_dict2.type == 'line') {
                        option2 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict2.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict2.value,
                                type: 'line'
                            }]
                        };
                    } else if (option_data_dict2.type == 'pie') {
                        option2 = {
                            tooltip: {
                                trigger: 'item'
                            },
                            legend: {
                                orient: 'vertical',
                                left: 'left',
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: '50%',
                                    data: option_data_dict2.data,
                                    emphasis: {
                                        itemStyle: {
                                            shadowBlur: 10,
                                            shadowOffsetX: 0,
                                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                                        }
                                    }
                                }
                            ]
                        };
                    } else if (option_data_dict2.type == 'nanding') {
                        option2 = {
                            legend: {
                                top: 'bottom'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: [10, 60],
                                    center: ['50%', '50%'],
                                    roseType: 'area',
                                    itemStyle: {
                                        borderRadius: 8
                                    },
                                    data: option_data_dict2.data
                                }
                            ]
                        };
                    }
                    option2 && myChart.setOption(option2);
                </script>

                <div id="chart3" class="col-lg-10" style="width: 880px;height: 240px;"></div>
                <script type="text/javascript">
                    var chartDom = document.getElementById('chart3');
                    var myChart = echarts.init(chartDom);

                    var option_data_dict3 = {{ option_data_dict3|safe }};
                    if (option_data_dict3.type == 'bar') {
                        option3 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict3.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict3.value,
                                type: 'bar'
                            }]
                        };
                    } else if (option_data_dict3.type == 'line') {
                        option3 = {
                            xAxis: {
                                type: 'category',
                                data: option_data_dict3.name,
                                axisLabel: {
                                    interval: 0, //强制显示文字
                                    show: true,
                                    textStyle: {
                                        fontSize: 10
                                    }
                                }
                            },
                            yAxis: {
                                type: 'value'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [{
                                data: option_data_dict3.value,
                                type: 'line'
                            }]
                        };
                    } else if (option_data_dict3.type == 'pie') {
                        option3 = {
                            tooltip: {
                                trigger: 'item'
                            },
                            legend: {
                                orient: 'vertical',
                                left: 'left',
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: '50%',
                                    data: option_data_dict3.data,
                                    emphasis: {
                                        itemStyle: {
                                            shadowBlur: 10,
                                            shadowOffsetX: 0,
                                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                                        }
                                    }
                                }
                            ]
                        };
                    } else if (option_data_dict3.type == 'nanding') {
                        option3 = {
                            legend: {
                                top: 'bottom'
                            },
                            toolbox: {
                                show: true,
                                feature: {
                                    mark: {show: true},
                                    dataView: {show: true, readOnly: false},
                                    restore: {show: true},
                                    saveAsImage: {show: true}
                                }
                            },
                            series: [
                                {
                                    name: '数据详情',
                                    type: 'pie',
                                    radius: [10, 60],
                                    center: ['50%', '50%'],
                                    roseType: 'area',
                                    itemStyle: {
                                        borderRadius: 8
                                    },
                                    data: option_data_dict3.data
                                }
                            ]
                        };
                    }
                    option3 && myChart.setOption(option3);
                </script>

            </div>
        {% endif %}
    </div>
{% endblock %}